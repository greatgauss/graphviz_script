digraph abc{
node [shape = record, fontname = Microsoft YaHei, fontsize = 30];

     //A	[ label = "pthread_create()" ];
     B	[ label = "__thread_entry()" ];
     C	[ label = <
			<TABLE BORDER="0" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4">
			  <TR> <TD>DASHReceiver::<font color="brown"><B>DoBuffering()</B></font><BR/></TD> </TR>
			</TABLE>
		 >, shape=plaintext ];
	   D[ label = <
			<TABLE BORDER="0" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4">
			  <TR> <TD COLSPAN="4" port="DownloadInitSegment">DASHReceiver::DownloadInitSegment()</TD> </TR>
			  <TR> <TD COLSPAN="4">DASHReceiver::GetNextSegment()</TD> </TR>
			  <TR> <TD COLSPAN="4">WHILE( true )</TD> </TR>
			  <TR> <TD  COLSPAN="1" ROWSPAN="6"></TD> </TR>
			  <TR> <TD  COLSPAN="3"  PORT="f1"><font color="green"><B>MediaObject::StartDownload</B></font></TD> </TR>
			  <TR> <TD  COLSPAN="3">MediaObjectBuffer::PushBack()</TD> </TR>
			  <TR> <TD  COLSPAN="3">MediaObject::WaitFinished()</TD> </TR>
			  <TR> <TD  COLSPAN="3">DASHReceiver::NotifySegmentDownloaded()</TD> </TR>
			  <TR> <TD  COLSPAN="3">DASHReceiver::GetNextSegment()</TD> </TR>
			</TABLE>
		 >, shape=plaintext ];
     E	[ label = "MediaObject::StartDownload()" ];
     F	[ label = <
			<TABLE BORDER="0" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4">
			  <TR> <TD port="f0">AbstractChunk::AttachDownloadObserver()</TD> </TR>
			  <TR> <TD port="f1"><font color="green"><B>AbstractChunk::StartDownload</B></font>()</TD> </TR>
			</TABLE>
		 >, shape=plaintext]
    
		 B -> C -> D;
		 D:DownloadInitSegment:e -> E-> F;
		      
     //1	[ label = "pthread_create()" ];
     2	[ label = "__thread_entry()" ];
     3	[ label = "amthreadpool_start_thread()" ];
     4	[ label = "//libamplayer.so\n//amplayer/player/player.c\nplayer_thread()" ];
     5	[ label = "ffmpeg_open_file()" ];
     6	[ label = "avformat_open_input_header()" ];
     7	[ label = "avio_open_h()" ];
     8	[ label = "ffurl_open_h()" ];
     9	[ label = "dash_protocol_open()" ];
     10	[ label = "dash_open()" ];
    11 [ label = <
			<TABLE BORDER="0" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4">
			  <TR> <TD port="CreateDashManager">CreateDashManager()</TD> </TR>
			  <TR> <TD port="DASHManager_Open">DASHManager::Open()</TD> </TR>
			  <TR> <TD port="dash_open_session"> \
			  <font color="purple"><B>//One session per AdaptationSet</B></font><BR/> \
			  dash_open_session()</TD> </TR>
			</TABLE>
		 >, shape=plaintext ];
		 
    12 [ label = "{<f0>new DASHManager2| \
                 <f1>DASHManager2::SetRepresentation()| \
                 <f2>DASHManager2::Start()}" ];

    13	[ label = "new DASHReceiver" ];
    14  [ label = <
			<TABLE BORDER="0" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4">
			  <TR> <TD port="f0"><font color="red"><B>new AdaptationSetStream</B></font></TD> </TR>
 			</TABLE>
		 >, shape=plaintext ];

    15	[ label = "AdaptationSetStream::Initialize()" ];
    16	[ label = "RepresentationStreamFactory::Create()" ];
    17	[ label = "new SegmentTemplateStream" ];
    18	[ label = "SegmentTemplateStream::CalculateSegmentStartTimes()" ];

    19 [ label = <
			<TABLE BORDER="0" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4">
			  <TR> <TD port="f0"><font color="red"><B>new AdaptationSetStream</B></font></TD> </TR>
			  <TR> <TD port="f1">DASHReceiver::DownloadInitSegment()</TD> </TR>
			</TABLE>
		 >, shape=plaintext ];
    20 [ label = "{<f0>DASHReceiver::GetInitSegment()|<f1>MediaObject::StartDownload()}" ];
    21 [ label = <
			<TABLE BORDER="0" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4">
			  <TR> <TD><font color="green"><B>AbstractChunk::StartDownload</B></font>()</TD> </TR>
			</TABLE>
		 >, shape=plaintext];

    22 [ label = "DASHReceiver::Start()" ];
    23 [ label = <
			<TABLE BORDER="0" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4">
			  <TR> <TD>pthread_create(DASHReceiver::<font color="brown"><B>DoBuffering</B></font>)</TD> </TR>
			</TABLE>
		 >, shape=plaintext];

    24 [ label = "DOMParser::Parse()" ];
    25 [ label = <
			<TABLE BORDER="0" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4">
			  <TR> <TD>// Download MPD<BR/><font color="green"><B>AbstractChunk::StartDownload</B></font>()</TD> </TR>
			</TABLE>
		 >, shape=plaintext];
            
            
2 -> 3 -> 4 -> 5 -> 6 -> 9 -> 10 -> 11;
6 -> 7 -> 8 -> 9

11:DASHManager_Open -> 24 -> 25
11:dash_open_session:w -> 12;
12:f0 ->13 -> 14 -> 15 -> 16 -> 17 -> 18
12:f1 -> 19 -> 20 -> 21
12:f2 -> 22 -> 23

}
